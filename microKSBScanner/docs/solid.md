# ksbscanner

## определения

## domain

`зависит от бизнеса, не зависит от приложения` - абстрагироваться в настольную игру

- Агент собирает Данные об Активе
- Агент передает Сервису Данные об Активе
- Агент получает Настройки от Сервиса
- Агент получает Обновление от Сервиса
- Агент применяет Настройки
- Агент обновляется

Слова: Агент, Данные об Активе, Сервис, Настройки, Обновление

## usecases

`зависит от бизнеса, зависит от приложения` - логика приложения

- Агент стартует
- Агент читает настройки из репозитория
- Агент читает из репозитория последние собранные данне об Активе
- Агент по таймеру сканирует Актив
- Агент сравнивает собранные данные с данными из репозитория
- Агент отправляет данные об активе на Сервис по адресу из настройки
- Агент получает настройки от Сервиса
- Агент сравнивает настройки
- Агент обновляет свои настройки
- Агент получает архив новой версии Агента
- Агент обновляется
- Если Сервис не отвечает, то Агент берёт следующий в массиве адрес Сервера и пробует связаться с ним.

## interfaces

`не зависит от бизнеса, зависит от приложения` - адаптеры между usecases и внешним миром (репозитории), web хендлеры, sql код работы с БД

- Реализация сканера Актива
- Реализация интерфейса Репозитория данных и настроек
- Реализация клиента Сервиса по https протоколу

## infrastructure

`не зависит от бизнеса, не зависит от приложения` - UI, db, http - ничего не знают о приложении, дают инструменты

- ...